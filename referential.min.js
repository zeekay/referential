(function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof n)return void t.load(e,n);var r=t.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,rqzt:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,t.cache[e]=i.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n},t.define("./index",function(e,n,r,i,o){var u;u=t("./refer"),u.Ref=t("./ref"),e.exports=u}),t.define("./refer",function(e,n,r,i,o){var u,a;u=t("./ref"),e.exports=a=function(e,t){var n,r,i,o,f,c;for(null==t&&(t=null),null==t&&(t=new u(e)),c=function(e){return t.get(e)},f=["value","get","set","extend","index","ref"],n=function(e){return c[e]=function(){return t[e].apply(t,arguments)}},r=0,i=f.length;r<i;r++)o=f[r],n(o);return c.refer=function(e){return a(null,t.ref(e))},c.clone=function(e){return a(null,t.clone(e))},c}}),t.define("./ref",function(e,n,r,i,o){var u,a,f,c,l,s,y;a=t("node.extend"),f=t("is-array"),c=t("is-number"),l=t("is-object"),s=t("is-string"),y=function(){var e;return e=0,function(){return e++}}(),e.exports=u=function(){function e(e,t,n){this._value=e,this.parent=t,this.key=n,this._cache={},this._children={},this._id=y(),null!=this.parent&&(this.parent._children[this._id]=this)}return e.prototype._mutate=function(e){var t,n,r;this._cache={},r=this._children;for(n in r)t=r[n],t._mutate();return this},e.prototype.destroy=function(){var e,t,n;n=this._children;for(t in n)e=n[t],e.destroy();return delete this._cache,delete this._children,delete this.parent._children[this._id],this},e.prototype.value=function(e){return this.parent?null!=e?this.parent.set(this.key,e):this.parent.get(this.key):(null!=e&&(this._value=e),this._value)},e.prototype.ref=function(t){return t?new e(null,this,t):this},e.prototype.get=function(e){return e?this._cache[e]?this._cache[e]:this._cache[e]=this.index(e):this.value()},e.prototype.set=function(e,t){return this._mutate(e),null==t?this.value(a(this.value(),e)):this.index(e,t),this},e.prototype.extend=function(e,t){var n;return this._mutate(e),null==t?this.value(a(!0,this.value(),e)):l(t)?this.value(a(!0,this.ref(e).get(),t)):(n=this.clone(),this.set(e,t),this.value(a(!0,n.get(),this.value()))),this},e.prototype.clone=function(t){return new e(a(!0,{},this.get(t)))},e.prototype.index=function(e,t,n,r){var i,o,u;if(null==n&&(n=this.value()),this.parent)return this.parent.index(this.key+"."+e,t);if(c(e)&&(e=String(e)),u=e.split("."),null!=t)for(;o=u.shift();){if(!u.length)return n[o]=t;i=u[0],null==n[i]&&(c(i)?null==n[o]&&(n[o]=[]):null==n[o]&&(n[o]={})),n=n[o]}else for(;o=u.shift();){if(!u.length)return null!=n?n[o]:void 0;n=null!=n?n[o]:void 0}},e}()}),t.define("node.extend",function(e,n,r,i,o){"use strict";e.exports=t("node.extend/lib/extend")}),t.define("node.extend/lib/extend",function(e,n,r,i,o){"use strict";var u=t("is"),a=function e(){var t,n,r,i,o,a,f=arguments[0]||{},c=1,l=arguments.length,s=!1;for("boolean"==typeof f&&(s=f,f=arguments[1]||{},c=2),"object"==typeof f||u.fn(f)||(f={});c<l;c++)if(t=arguments[c],null!=t){"string"==typeof t&&(t=t.split(""));for(n in t)r=f[n],i=t[n],f!==i&&(s&&i&&(u.hash(i)||(o=u.array(i)))?(o?(o=!1,a=r&&u.array(r)?r:[]):a=r&&u.hash(r)?r:{},f[n]=e(s,a,i)):"undefined"!=typeof i&&(f[n]=i))}return f};a.version="1.1.3",e.exports=a}),t.define("is",function(e,t,n,r,i){var o,u=Object.prototype,a=u.hasOwnProperty,f=u.toString;"function"==typeof Symbol&&(o=Symbol.prototype.valueOf);var c=function(e){return e!==e},l={boolean:1,number:1,string:1,undefined:1},s=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,y=/^[A-Fa-f0-9]+$/,p=e.exports={};p.a=p.type=function(e,t){return typeof e===t},p.defined=function(e){return"undefined"!=typeof e},p.empty=function(e){var t,n=f.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(a.call(e,t))return!1;return!0}return!e},p.equal=function(e,t){if(e===t)return!0;var n,r=f.call(e);if(r!==f.call(t))return!1;if("[object Object]"===r){for(n in e)if(!(p.equal(e[n],t[n])&&n in t))return!1;for(n in t)if(!(p.equal(e[n],t[n])&&n in e))return!1;return!0}if("[object Array]"===r){if(n=e.length,n!==t.length)return!1;for(;--n;)if(!p.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r&&e.getTime()===t.getTime()},p.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!l[n]},p.instance=p.instanceof=function(e,t){return e instanceof t},p.nil=p.null=function(e){return null===e},p.undef=p.undefined=function(e){return"undefined"==typeof e},p.args=p.arguments=function(e){var t="[object Arguments]"===f.call(e),n=!p.array(e)&&p.arraylike(e)&&p.object(e)&&p.fn(e.callee);return t||n},p.array=Array.isArray||function(e){return"[object Array]"===f.call(e)},p.args.empty=function(e){return p.args(e)&&0===e.length},p.array.empty=function(e){return p.array(e)&&0===e.length},p.arraylike=function(e){return!!e&&!p.bool(e)&&a.call(e,"length")&&isFinite(e.length)&&p.number(e.length)&&e.length>=0},p.bool=p.boolean=function(e){return"[object Boolean]"===f.call(e)},p.false=function(e){return p.bool(e)&&Boolean(Number(e))===!1},p.true=function(e){return p.bool(e)&&Boolean(Number(e))===!0},p.date=function(e){return"[object Date]"===f.call(e)},p.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},p.error=function(e){return"[object Error]"===f.call(e)},p.fn=p.function=function(e){var t="undefined"!=typeof window&&e===window.alert;return t||"[object Function]"===f.call(e)},p.number=function(e){return"[object Number]"===f.call(e)},p.infinite=function(e){return e===1/0||e===-(1/0)},p.decimal=function(e){return p.number(e)&&!c(e)&&!p.infinite(e)&&e%1!==0},p.divisibleBy=function(e,t){var n=p.infinite(e),r=p.infinite(t),i=p.number(e)&&!c(e)&&p.number(t)&&!c(t)&&0!==t;return n||r||i&&e%t===0},p.integer=p.int=function(e){return p.number(e)&&!c(e)&&e%1===0},p.maximum=function(e,t){if(c(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},p.minimum=function(e,t){if(c(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},p.nan=function(e){return!p.number(e)||e!==e},p.even=function(e){return p.infinite(e)||p.number(e)&&e===e&&e%2===0},p.odd=function(e){return p.infinite(e)||p.number(e)&&e===e&&e%2!==0},p.ge=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>=t},p.gt=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>t},p.le=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<=t},p.lt=function(e,t){if(c(e)||c(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<t},p.within=function(e,t,n){if(c(e)||c(t)||c(n))throw new TypeError("NaN is not a valid value");if(!p.number(e)||!p.number(t)||!p.number(n))throw new TypeError("all arguments must be numbers");var r=p.infinite(e)||p.infinite(t)||p.infinite(n);return r||e>=t&&e<=n},p.object=function(e){return"[object Object]"===f.call(e)},p.hash=function(e){return p.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},p.regexp=function(e){return"[object RegExp]"===f.call(e)},p.string=function(e){return"[object String]"===f.call(e)},p.base64=function(e){return p.string(e)&&(!e.length||s.test(e))},p.hex=function(e){return p.string(e)&&(!e.length||y.test(e))},p.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===f.call(e)&&"symbol"==typeof o.call(e)}}),t.define("is-array",function(e,t,n,r,i){var o=Array.isArray,u=Object.prototype.toString;e.exports=o||function(e){return!!e&&"[object Array]"==u.call(e)}}),t.define("is-number",function(e,n,r,i,o){"use strict";var u=t("kind-of");e.exports=function(e){var t=u(e);if("string"===t){if(!e.trim())return!1}else if("number"!==t)return!1;return e-e+1>=0}}),t.define("kind-of",function(e,n,r,i,o){var u=t("is-buffer"),a=Object.prototype.toString;e.exports=function(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";if(e===!0||e===!1||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=a.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"undefined"!=typeof Buffer&&u(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}}),t.define("is-buffer",function(e,t,n,r,i){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}}),t.define("is-object",function(e,t,n,r,i){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}}),t.define("is-string",function(e,t,n,r,i){"use strict";var o=String.prototype.valueOf,u=function(e){try{return o.call(e),!0}catch(e){return!1}},a=Object.prototype.toString,f="[object String]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(c?u(e):a.call(e)===f)}}),t.define("./browser",function(n,r,i,o,u){e.Referential=t("./index")}),t("./browser")}).call(this,this);
