(function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof n)return void t.load(e,n);var r=t.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,require:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,t.cache[e]=i.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n},t.waiting={},t.async=function(e,n){t.modules[e]=n;for(var r;r=t.waiting[e].shift();)r(t(e))},t.load=function(e,n){var r=document.createElement("script"),i=document.getElementsByTagName("script")[0],o=t.waiting[e]=t.waiting[e]||[];o.push(n),r.type="text/javascript",r.async=!0,r.src=e,i.parentNode.insertBefore(r,i)},t.define("./index",function(e,n,r,i){var o;o=t("./refer"),o.Ref=t("./ref"),e.exports=o}),t.define("./refer",function(e,n,r,i){var o,u;o=t("./ref"),e.exports=u=function(e,t){var n,r,i,a,f,c;for(null==t&&(t=null),null==t&&(t=new o(e)),c=function(e){return t.get(e)},f=["value","get","set","extend","index","ref"],n=function(e){return c[e]=function(){return t[e].apply(t,arguments)}},r=0,i=f.length;i>r;r++)a=f[r],n(a);return c.refer=function(e){return u(null,t.ref(e))},c.clone=function(e){return u(null,t.clone(e))},c}}),t.define("./ref",function(e,n,r,i){var o,u,a,f,c,l,s;u=t("node.extend"),a=t("is-array"),f=t("is-number"),c=t("is-object"),l=t("is-string"),s=function(){var e;return e=0,function(){return e++}}(),e.exports=o=function(){function e(e,t,n){this._value=e,this.parent=t,this.key=n,this._cache={},this._children={},this._id=s(),null!=this.parent&&(this.parent._children[this._id]=this)}return e.prototype._mutate=function(){var e,t,n;this._cache={},n=this._children;for(t in n)e=n[t],e._mutate();return this},e.prototype.destroy=function(){var e,t,n;n=this._children;for(t in n)e=n[t],e.destroy();return delete this._cache,delete this._children,delete this.parent._children[this._id],this},e.prototype.value=function(e){return this.parent?null!=e?this.parent.set(this.key,e):this.parent.get(this.key):(null!=e&&(this._value=e),this._value)},e.prototype.ref=function(t){return t?new e(null,this,t):this},e.prototype.get=function(e){return e?this._cache[e]?this._cache[e]:this._cache[e]=this.index(e):this.value()},e.prototype.set=function(e,t){return this._mutate(),null==t?this.value(u(this.value(),e)):this.index(e,t),this},e.prototype.extend=function(e,t){var n;return this._mutate(),null==t?this.value(u(!0,this.value(),e)):c(t)?this.value(u(!0,this.ref(e).get(),t)):(n=this.clone(),this.set(e,t),this.value(u(!0,n.get(),this.value()))),this},e.prototype.clone=function(t){return new e(u(!0,{},this.get(t)))},e.prototype.index=function(e,t,n,r){var i,o,u;if(null==n&&(n=this.value()),this.parent)return this.parent.index(this.key+"."+e,t);if(f(e)&&(e=String(e)),u=e.split("."),null!=t)for(;o=u.shift();){if(!u.length)return n[o]=t;i=u[0],null==n[i]&&(f(i)?null==n[o]&&(n[o]=[]):null==n[o]&&(n[o]={})),n=n[o]}else for(;o=u.shift();){if(!u.length)return null!=n?n[o]:void 0;n=null!=n?n[o]:void 0}},e}()}),t.define("node.extend",function(e,n,r,i){e.exports=t("node.extend/lib/extend")}),t.define("node.extend/lib/extend",function(e,n,r,i){function o(){var e,t,n,r,i,a,f=arguments[0]||{},c=1,l=arguments.length,s=!1;for("boolean"==typeof f&&(s=f,f=arguments[1]||{},c=2),"object"==typeof f||u.fn(f)||(f={});l>c;c++)if(e=arguments[c],null!=e){"string"==typeof e&&(e=e.split(""));for(t in e)n=f[t],r=e[t],f!==r&&(s&&r&&(u.hash(r)||(i=u.array(r)))?(i?(i=!1,a=n&&u.array(n)?n:[]):a=n&&u.hash(n)?n:{},f[t]=o(s,a,r)):"undefined"!=typeof r&&(f[t]=r))}return f}var u=t("is");o.version="1.1.3",e.exports=o}),t.define("is",function(e,t,n,r){var i,o=Object.prototype,u=o.hasOwnProperty,a=o.toString;"function"==typeof Symbol&&(i=Symbol.prototype.valueOf);var f=function(e){return e!==e},c={"boolean":1,number:1,string:1,undefined:1},l=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,s=/^[A-Fa-f0-9]+$/,y=e.exports={};y.a=y.type=function(e,t){return typeof e===t},y.defined=function(e){return"undefined"!=typeof e},y.empty=function(e){var t,n=a.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(u.call(e,t))return!1;return!0}return!e},y.equal=function(e,t){if(e===t)return!0;var n,r=a.call(e);if(r!==a.call(t))return!1;if("[object Object]"===r){for(n in e)if(!(y.equal(e[n],t[n])&&n in t))return!1;for(n in t)if(!(y.equal(e[n],t[n])&&n in e))return!1;return!0}if("[object Array]"===r){if(n=e.length,n!==t.length)return!1;for(;--n;)if(!y.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r?e.getTime()===t.getTime():!1},y.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!c[n]},y.instance=y["instanceof"]=function(e,t){return e instanceof t},y.nil=y["null"]=function(e){return null===e},y.undef=y.undefined=function(e){return"undefined"==typeof e},y.args=y.arguments=function(e){var t="[object Arguments]"===a.call(e),n=!y.array(e)&&y.arraylike(e)&&y.object(e)&&y.fn(e.callee);return t||n},y.array=Array.isArray||function(e){return"[object Array]"===a.call(e)},y.args.empty=function(e){return y.args(e)&&0===e.length},y.array.empty=function(e){return y.array(e)&&0===e.length},y.arraylike=function(e){return!!e&&!y.bool(e)&&u.call(e,"length")&&isFinite(e.length)&&y.number(e.length)&&e.length>=0},y.bool=y["boolean"]=function(e){return"[object Boolean]"===a.call(e)},y["false"]=function(e){return y.bool(e)&&Boolean(Number(e))===!1},y["true"]=function(e){return y.bool(e)&&Boolean(Number(e))===!0},y.date=function(e){return"[object Date]"===a.call(e)},y.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},y.error=function(e){return"[object Error]"===a.call(e)},y.fn=y["function"]=function(e){var t="undefined"!=typeof window&&e===window.alert;return t||"[object Function]"===a.call(e)},y.number=function(e){return"[object Number]"===a.call(e)},y.infinite=function(e){return e===1/0||e===-(1/0)},y.decimal=function(e){return y.number(e)&&!f(e)&&!y.infinite(e)&&e%1!==0},y.divisibleBy=function(e,t){var n=y.infinite(e),r=y.infinite(t),i=y.number(e)&&!f(e)&&y.number(t)&&!f(t)&&0!==t;return n||r||i&&e%t===0},y.integer=y["int"]=function(e){return y.number(e)&&!f(e)&&e%1===0},y.maximum=function(e,t){if(f(e))throw new TypeError("NaN is not a valid value");if(!y.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},y.minimum=function(e,t){if(f(e))throw new TypeError("NaN is not a valid value");if(!y.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},y.nan=function(e){return!y.number(e)||e!==e},y.even=function(e){return y.infinite(e)||y.number(e)&&e===e&&e%2===0},y.odd=function(e){return y.infinite(e)||y.number(e)&&e===e&&e%2!==0},y.ge=function(e,t){if(f(e)||f(t))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(t)&&e>=t},y.gt=function(e,t){if(f(e)||f(t))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(t)&&e>t},y.le=function(e,t){if(f(e)||f(t))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(t)&&t>=e},y.lt=function(e,t){if(f(e)||f(t))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(t)&&t>e},y.within=function(e,t,n){if(f(e)||f(t)||f(n))throw new TypeError("NaN is not a valid value");if(!y.number(e)||!y.number(t)||!y.number(n))throw new TypeError("all arguments must be numbers");var r=y.infinite(e)||y.infinite(t)||y.infinite(n);return r||e>=t&&n>=e},y.object=function(e){return"[object Object]"===a.call(e)},y.hash=function(e){return y.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},y.regexp=function(e){return"[object RegExp]"===a.call(e)},y.string=function(e){return"[object String]"===a.call(e)},y.base64=function(e){return y.string(e)&&(!e.length||l.test(e))},y.hex=function(e){return y.string(e)&&(!e.length||s.test(e))},y.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===a.call(e)&&"symbol"==typeof i.call(e)}}),t.define("is-array",function(e,t,n,r){var i=Array.isArray,o=Object.prototype.toString;e.exports=i||function(e){return!!e&&"[object Array]"==o.call(e)}}),t.define("is-number",function(e,n,r,i){"use strict";var o=t("kind-of");e.exports=function(e){var t=o(e);if("number"!==t&&"string"!==t)return!1;var n=+e;return n-n+1>=0&&""!==e}}),t.define("kind-of",function(e,n,r,i){var o=t("is-buffer"),u=Object.prototype.toString;e.exports=function(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";if(e===!0||e===!1||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=u.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"undefined"!=typeof Buffer&&o(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}}),t.define("is-buffer",function(e,t,n,r){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}}),t.define("is-object",function(e,t,n,r){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}}),t.define("is-string",function(e,t,n,r){"use strict";var i=String.prototype.valueOf,o=function(e){try{return i.call(e),!0}catch(t){return!1}},u=Object.prototype.toString,a="[object String]",f="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:f?o(e):u.call(e)===a}}),t.define("./browser",function(n,r,i,o){e.Referential=t("./index")}),t("./browser")}).call(this,this);
