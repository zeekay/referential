(function(e){function n(e,t){if({}.hasOwnProperty.call(n.cache,e))return n.cache[e];if("function"==typeof t)return void n.load(e,t);var r=n.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,require:n,filename:e,exports:{},loaded:!1,parent:null,children:[]},o=e.slice(0,e.lastIndexOf("/")+1);return n.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,n.cache[e]=i.exports}n.modules={},n.cache={},n.resolve=function(e){return{}.hasOwnProperty.call(n.modules,e)?n.modules[e]:void 0},n.define=function(e,t){n.modules[e]=t},n.waiting={},n.async=function(e,t){for(n.modules[e]=t;cb=n.waiting[e].shift();)cb(n(e))},n.load=function(e,t){var r=document.createElement("script"),i=document.getElementsByTagName("script")[0],o=n.waiting[e]=n.waiting[e]||[];o.push(t),r.type="text/javascript",r.async=!0,r.src=e,i.parentNode.insertBefore(r,i)},n.define("./index",function(e,t,r,i){var o;o=n("./refer"),o.Ref=n("./ref"),e.exports=o}),n.define("./refer",function(e,t,r,i){var o,u;o=n("./ref"),e.exports=u=function(e,n){var t,r,i,a,f,c;for(null==n&&(n=null),null==n&&(n=new o(e)),c=function(e){return n.get(e)},f=["value","get","set","extend","index","ref"],t=function(e){return c[e]=function(){return n[e].apply(n,arguments)}},r=0,i=f.length;i>r;r++)a=f[r],t(a);return c.refer=function(e){return u(null,n.ref(e))},c.clone=function(e){return u(null,n.clone(e))},c}}),n.define("./ref",function(e,t,r,i){var o,u,a,f,c,l;u=n("node.extend"),a=n("is-array"),f=n("is-number"),c=n("is-object"),l=n("is-string"),e.exports=o=function(){function e(e,n,t){this._value=e,this.parent=n,this.key=t,this._cache={}}return e.prototype._mutate=function(){return this._cache={}},e.prototype.value=function(e){return this.parent?null!=e?this.parent.set(this.key,e):this.parent.get(this.key):(null!=e&&(this._value=e),this._value)},e.prototype.ref=function(n){return n?new e(null,this,n):this},e.prototype.get=function(e){return e?this._cache[e]?this._cache[e]:this._cache[e]=this.index(e):this.value()},e.prototype.set=function(e,n){return this._mutate(),null==n?this.value(u(this.value(),e)):this.index(e,n),this},e.prototype.extend=function(e,n){var t;return this._mutate(),null==n?this.value(u(!0,this.value(),e)):c(n)?this.value(u(!0,this.ref(e).get(),n)):(t=this.clone(),this.set(e,n),this.value(u(!0,t.get(),this.value()))),this},e.prototype.clone=function(n){return new e(u(!0,{},this.get(n)))},e.prototype.index=function(e,n,t,r){var i,o,u;if(null==t&&(t=this.value()),this.parent)return this.parent.index(this.key+"."+e,n);if(f(e)&&(e=String(e)),u=e.split("."),null!=n)for(;o=u.shift();){if(!u.length)return t[o]=n;i=u[0],null==t[i]&&(f(i)?null==t[o]&&(t[o]=[]):null==t[o]&&(t[o]={})),t=t[o]}else for(;o=u.shift();){if(!u.length)return t[o];t=t[o]}},e}()}),n.define("node.extend",function(e,t,r,i){e.exports=n("node.extend/lib/extend")}),n.define("node.extend/lib/extend",function(e,t,r,i){function o(){var e,n,t,r,i,a,f=arguments[0]||{},c=1,l=arguments.length,s=!1;for("boolean"==typeof f&&(s=f,f=arguments[1]||{},c=2),"object"==typeof f||u.fn(f)||(f={});l>c;c++)if(e=arguments[c],null!=e){"string"==typeof e&&(e=e.split(""));for(n in e)t=f[n],r=e[n],f!==r&&(s&&r&&(u.hash(r)||(i=u.array(r)))?(i?(i=!1,a=t&&u.array(t)?t:[]):a=t&&u.hash(t)?t:{},f[n]=o(s,a,r)):"undefined"!=typeof r&&(f[n]=r))}return f}var u=n("is");o.version="1.1.3",e.exports=o}),n.define("is",function(e,n,t,r){var i,o=Object.prototype,u=o.hasOwnProperty,a=o.toString;"function"==typeof Symbol&&(i=Symbol.prototype.valueOf);var f=function(e){return e!==e},c={"boolean":1,number:1,string:1,undefined:1},l=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,s=/^[A-Fa-f0-9]+$/,y=e.exports={};y.a=y.type=function(e,n){return typeof e===n},y.defined=function(e){return"undefined"!=typeof e},y.empty=function(e){var n,t=a.call(e);if("[object Array]"===t||"[object Arguments]"===t||"[object String]"===t)return 0===e.length;if("[object Object]"===t){for(n in e)if(u.call(e,n))return!1;return!0}return!e},y.equal=function(e,n){if(e===n)return!0;var t,r=a.call(e);if(r!==a.call(n))return!1;if("[object Object]"===r){for(t in e)if(!(y.equal(e[t],n[t])&&t in n))return!1;for(t in n)if(!(y.equal(e[t],n[t])&&t in e))return!1;return!0}if("[object Array]"===r){if(t=e.length,t!==n.length)return!1;for(;--t;)if(!y.equal(e[t],n[t]))return!1;return!0}return"[object Function]"===r?e.prototype===n.prototype:"[object Date]"===r?e.getTime()===n.getTime():!1},y.hosted=function(e,n){var t=typeof n[e];return"object"===t?!!n[e]:!c[t]},y.instance=y["instanceof"]=function(e,n){return e instanceof n},y.nil=y["null"]=function(e){return null===e},y.undef=y.undefined=function(e){return"undefined"==typeof e},y.args=y.arguments=function(e){var n="[object Arguments]"===a.call(e),t=!y.array(e)&&y.arraylike(e)&&y.object(e)&&y.fn(e.callee);return n||t},y.array=Array.isArray||function(e){return"[object Array]"===a.call(e)},y.args.empty=function(e){return y.args(e)&&0===e.length},y.array.empty=function(e){return y.array(e)&&0===e.length},y.arraylike=function(e){return!!e&&!y.bool(e)&&u.call(e,"length")&&isFinite(e.length)&&y.number(e.length)&&e.length>=0},y.bool=y["boolean"]=function(e){return"[object Boolean]"===a.call(e)},y["false"]=function(e){return y.bool(e)&&Boolean(Number(e))===!1},y["true"]=function(e){return y.bool(e)&&Boolean(Number(e))===!0},y.date=function(e){return"[object Date]"===a.call(e)},y.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},y.error=function(e){return"[object Error]"===a.call(e)},y.fn=y["function"]=function(e){var n="undefined"!=typeof window&&e===window.alert;return n||"[object Function]"===a.call(e)},y.number=function(e){return"[object Number]"===a.call(e)},y.infinite=function(e){return e===1/0||e===-(1/0)},y.decimal=function(e){return y.number(e)&&!f(e)&&!y.infinite(e)&&e%1!==0},y.divisibleBy=function(e,n){var t=y.infinite(e),r=y.infinite(n),i=y.number(e)&&!f(e)&&y.number(n)&&!f(n)&&0!==n;return t||r||i&&e%n===0},y.integer=y["int"]=function(e){return y.number(e)&&!f(e)&&e%1===0},y.maximum=function(e,n){if(f(e))throw new TypeError("NaN is not a valid value");if(!y.arraylike(n))throw new TypeError("second argument must be array-like");for(var t=n.length;--t>=0;)if(e<n[t])return!1;return!0},y.minimum=function(e,n){if(f(e))throw new TypeError("NaN is not a valid value");if(!y.arraylike(n))throw new TypeError("second argument must be array-like");for(var t=n.length;--t>=0;)if(e>n[t])return!1;return!0},y.nan=function(e){return!y.number(e)||e!==e},y.even=function(e){return y.infinite(e)||y.number(e)&&e===e&&e%2===0},y.odd=function(e){return y.infinite(e)||y.number(e)&&e===e&&e%2!==0},y.ge=function(e,n){if(f(e)||f(n))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(n)&&e>=n},y.gt=function(e,n){if(f(e)||f(n))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(n)&&e>n},y.le=function(e,n){if(f(e)||f(n))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(n)&&n>=e},y.lt=function(e,n){if(f(e)||f(n))throw new TypeError("NaN is not a valid value");return!y.infinite(e)&&!y.infinite(n)&&n>e},y.within=function(e,n,t){if(f(e)||f(n)||f(t))throw new TypeError("NaN is not a valid value");if(!y.number(e)||!y.number(n)||!y.number(t))throw new TypeError("all arguments must be numbers");var r=y.infinite(e)||y.infinite(n)||y.infinite(t);return r||e>=n&&t>=e},y.object=function(e){return"[object Object]"===a.call(e)},y.hash=function(e){return y.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},y.regexp=function(e){return"[object RegExp]"===a.call(e)},y.string=function(e){return"[object String]"===a.call(e)},y.base64=function(e){return y.string(e)&&(!e.length||l.test(e))},y.hex=function(e){return y.string(e)&&(!e.length||s.test(e))},y.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===a.call(e)&&"symbol"==typeof i.call(e)}}),n.define("is-array",function(e,n,t,r){var i=Array.isArray,o=Object.prototype.toString;e.exports=i||function(e){return!!e&&"[object Array]"==o.call(e)}}),n.define("is-number",function(e,t,r,i){"use strict";var o=n("kind-of");e.exports=function(e){var n=o(e);if("number"!==n&&"string"!==n)return!1;var t=+e;return t-t+1>=0&&""!==e}}),n.define("kind-of",function(e,t,r,i){var o=n("is-buffer"),u=Object.prototype.toString;e.exports=function(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";if(e===!0||e===!1||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var n=u.call(e);return"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"undefined"!=typeof Buffer&&o(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object"}}),n.define("is-buffer",function(e,n,t,r){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}}),n.define("is-object",function(e,n,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}}),n.define("is-string",function(e,n,t,r){"use strict";var i=String.prototype.valueOf,o=function(e){try{return i.call(e),!0}catch(n){return!1}},u=Object.prototype.toString,a="[object String]",f="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:f?o(e):u.call(e)===a}}),n.define("./browser",function(t,r,i,o){e.Referential=n("./index")}),n("./browser")}).call(this,this);
